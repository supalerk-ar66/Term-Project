{"version":3,"sources":["components/login/index.js","api/index.js","components/homepage/index.js","App.js","reportWebVitals.js","index.js"],"names":["Login","_ref","onLoginSuccessful","email","setEmail","useState","password","setPassword","hasError","setHasError","_jsx","Container","children","_jsxs","Card","className","Header","as","Body","Form","onSubmit","async","event","preventDefault","loginResult","fetch","method","body","JSON","stringify","headers","then","response","ok","Error","status","json","catch","err","console","log","login","name","token","localStorage","setItem","Group","controlId","Label","Control","type","placeholder","onChange","target","value","Text","Alert","variant","Button","Homepage","onLogout","isLoading","setIsLoading","noArtworksFound","setNoArtworksFound","keyword","setKeyword","artworks","setArtworks","fluid","Row","noGutters","onClick","_ref2","concat","searchArtworks","length","InputGroup","Prepend","disabled","Spinner","animation","CardColumns","map","artwork","idx","id","title","image_url","artist_display","date_display","medium_display","place_of_origin","href","rel","Img","src","Title","style","whiteSpace","App","isUserSignedIn","setIsUserSignedIn","useEffect","getItem","removeItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.44e408d7.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Container, Form, Button, Alert, Card } from \"react-bootstrap\";\nimport { login } from \"../../api\";\n\nfunction Login({ onLoginSuccessful }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [hasError, setHasError] = useState(false);\n\n  const onEmailChange = (event) => setEmail(event.target.value);\n  const onPasswordChange = (event) => setPassword(event.target.value);\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    setHasError(false);\n    const loginResult = await login({ email, password });\n    if (!loginResult) setHasError(true);\n    else {\n      const { name, token } = loginResult;\n      // Save user IDs on local storage\n      localStorage.setItem(\"name\", name);\n      localStorage.setItem(\"token\", token);\n      onLoginSuccessful();\n    }\n  };\n\n  return (\n    <Container>\n      <Card className=\"mt-5\">\n        <Card.Header as=\"h1\">Login</Card.Header>\n        <Card.Body>\n          <Form className=\"w-100\" onSubmit={onSubmit}>\n            <Form.Group controlId=\"formBasicEmail\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                onChange={onEmailChange}\n                value={email}\n              />\n              <Form.Text className=\"text-muted\">\n                We'll never share your email with anyone else.\n              </Form.Text>\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password\"\n                onChange={onPasswordChange}\n                value={password}\n              />\n            </Form.Group>\n            {hasError && (\n              <Alert variant={\"danger\"}>\n                The email address and password you entered don't match any\n                account. Please try again.\n              </Alert>\n            )}\n            <Button variant=\"primary\" type=\"submit\">\n              Submit\n            </Button>\n          </Form>\n        </Card.Body>\n      </Card>\n    </Container>\n  );\n}\n\nexport default Login;\n","export async function login({ email, password }) {\n  return await fetch(\"http://api-termproject66030.se-rmutl.net/api/auth/login\", {\n    method: \"POST\",\n    body: JSON.stringify({ email, password }),\n    headers: { \"Content-Type\": \"application/json\" },\n  })\n    .then((response) => {\n      // If request is not successful, display error message\n      if (!response.ok) {\n        throw new Error(\"HTTP status \" + response.status);\n      }\n\n      return response.json();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n\nexport async function searchArtworks({ keyword }) {\n  return await fetch(`http://api-termproject66030.se-rmutl.net/api/homepage/getArtworks/${keyword}`, {\n    method: \"GET\",\n    headers: { \"Content-Type\": \"application/json\" },\n  })\n    .then((response) => {\n      // If request is not successful, display error message\n      if (!response.ok) {\n        throw new Error(\"HTTP status \" + response.status);\n      }\n\n      return response.json();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n","import React, { useState } from \"react\";\nimport {\n  Container,\n  Row,\n  Form,\n  Button,\n  Alert,\n  InputGroup,\n  Spinner,\n  CardColumns,\n  Card,\n} from \"react-bootstrap\";\nimport { searchArtworks } from \"../../api\";\n\nfunction Homepage({ onLogout }) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [noArtworksFound, setNoArtworksFound] = useState(false);\n  const [keyword, setKeyword] = useState(\"\");\n  const [artworks, setArtworks] = useState([]);\n\n  const onChangeKeyword = (event) => {\n    setKeyword(event.target.value);\n  };\n\n  const onSearchArtworks = async (event) => {\n    event.preventDefault();\n    setIsLoading(true);\n    const artworks = await searchArtworks({ keyword });\n    setArtworks(artworks);\n    setNoArtworksFound(!artworks || !artworks.length);\n    setIsLoading(false);\n  };\n\n  return (\n    <Container fluid>\n      <Row className=\"mt-2 mb-2 justify-content-end\" noGutters>\n        <Button variant=\"outline-danger\" onClick={onLogout}>\n          Log out\n        </Button>\n      </Row>\n      <Row noGutters>\n        <h1>Welcome!</h1>\n      </Row>\n      <Row className=\"mt-2\" noGutters>\n        <h6>\n          Enter one or multiple keywords below to search for artworks in the Art\n          Institute of Chicago.\n        </h6>\n      </Row>\n      <Row noGutters>\n        <Form className=\"w-100 mb-5\" onSubmit={onSearchArtworks}>\n          <InputGroup>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"e.g. Monet, O'Keeffe, Ancient Greek...\"\n              onChange={onChangeKeyword}\n              value={keyword}\n            />\n            <InputGroup.Prepend>\n              <Button\n                variant=\"outline-primary\"\n                disabled={!keyword}\n                type=\"submit\"\n              >\n                Search artworks\n              </Button>\n            </InputGroup.Prepend>\n          </InputGroup>\n        </Form>\n      </Row>\n      {isLoading && (\n        <Row className=\"justify-content-center mb-5\">\n          <Spinner animation=\"border\" variant=\"primary\" />\n        </Row>\n      )}\n      {noArtworksFound && !isLoading ? (\n        <Alert variant={\"info\"}>\n          No results were found for the entered keyword/s.\n        </Alert>\n      ) : (\n        <CardColumns>\n          {artworks.map((artwork, idx) => {\n            const {\n              id,\n              title,\n              image_url,\n              artist_display,\n              date_display,\n              medium_display,\n              place_of_origin,\n            } = artwork;\n            return (\n              <Card key={`artwork-${id}`}>\n                <a\n                  href={image_url}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  aria-current=\"true\"\n                >\n                  <Card.Img variant=\"top\" src={image_url} />\n                </a>\n                <Card.Body>\n                  <Card.Title>{title}</Card.Title>\n                  <Card.Text\n                    className=\"text-muted\"\n                    style={{ whiteSpace: \"pre-line\" }}\n                  >\n                    {place_of_origin}, {date_display}\n                    <br />\n                    <small className=\"text-muted\">{artist_display}</small>\n                  </Card.Text>\n                  <Card.Text>\n                    <small className=\"text-muted\">{medium_display}</small>\n                  </Card.Text>\n                </Card.Body>\n              </Card>\n            );\n          })}\n        </CardColumns>\n      )}\n    </Container>\n  );\n}\n\nexport default Homepage;\n","import React, { useEffect, useState } from \"react\";\nimport Login from \"./components/login\";\nimport Homepage from \"./components/homepage\";\n\nfunction App() {\n  const [isUserSignedIn, setIsUserSignedIn] = useState(false);\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) setIsUserSignedIn(true);\n    else setIsUserSignedIn(false);\n  }, []);\n\n  const onLoginSuccessful = () => {\n    setIsUserSignedIn(true);\n  };\n\n  const onLogout = () => {\n    localStorage.removeItem(\"name\");\n    localStorage.removeItem(\"token\");\n    setIsUserSignedIn(false);\n  };\n\n  return (\n    (isUserSignedIn && <Homepage onLogout={onLogout} />) || (\n      <Login onLoginSuccessful={onLoginSuccessful} />\n    )\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}